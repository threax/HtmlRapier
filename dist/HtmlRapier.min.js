"use strict";var jsns=function(){function e(e){return void 0!==c[e]}function t(e){return void 0!==l[e]}function n(e){var t=o(l[e]);return t&&delete l[e],t}function r(e,t){void 0===c[e]&&(c[e]=t)}function i(e){var t=!1,n=this;this.exports={},this.isLoadingDelayed=function(){return t},this.delayLoading=function(){t=!0},this.loaded=function(){r(e,n),u()}}function o(o){for(var a=o.dependencies,u=!0,s=void 0,l=0;l<a.length;++l){var f=a[l];f.loaded=e(f.name),!f.loaded&&t(f.name)&&(f.loaded=n(f.name)),u=u&&f.loaded}if(u){s=new i(o.name);for(var d=[s.exports,s],l=0;l<a.length;++l){var f=a[l];d.push(c[f.name].exports)}o.factory.apply(s,d),s.isLoadingDelayed()||r(o.name,s)}return u&&!s.isLoadingDelayed()}function a(t,n,r){if(this.name=t,this.factory=r,this.dependencies=[],n)for(var i=0;i<n.length;++i){var o=n[i];this.dependencies.push({name:o,loaded:e(o)})}}function u(){for(var e=0;e<f.length;++e){var t=f[e];o(t)&&f.splice(e--,1)}}function s(t,n){for(var n="",r=0;n>r;++r)n+=" ";var i=l[t];if(void 0!==i){console.log(n+i.name);for(var o=0;o<i.dependencies.length;++o){var a=i.dependencies[o];e(a.name)||s(a.name,n+4)}}else console.log(n+t+" module not yet loaded.")}var c={},l={},f=[];return{run:function(e,t){f.push(new a("AnonRunner",e,t)),u()},define:function(e,t,n){l[e]=new a(e,t,n),u()},debug:function(){if(f.length>0)for(var t=0;t<f.length;++t){var n=f[t];console.log("Runner waiting "+n.name);for(var r=0;r<n.dependencies.length;++r){var i=n.dependencies[r];e(i.name)||s(i.name,0)}}else console.log("No runners remaining.")}}}();!function(){function e(e){function t(){}function n(e,t){return function(){e.apply(t,arguments)}}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function i(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void r._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?o:a)(t.promise,e._value);var r;try{r=n(e._value)}catch(i){return void a(t.promise,i)}o(t.promise,r)}))}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof r)return e._state=3,e._value=t,void u(e);if("function"==typeof i)return void c(n(i,t),e)}e._state=1,e._value=t,u(e)}catch(o){a(e,o)}}function a(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;n>t;t++)i(e,e._deferreds[t]);e._deferreds=null}function s(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,a(t,e))})}catch(r){if(n)return;n=!0,a(t,r)}}var l=setTimeout;r.prototype["catch"]=function(e){return this.then(null,e)},r.prototype.then=function(e,n){var r=new this.constructor(t);return i(this,new s(e,n,r)),r},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(o,e)},n)}t[o]=a,0===--i&&e(t)}catch(s){n(s)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)})},r._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){l(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},e.Promise=r}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),"undefined"==typeof window.Promise&&e(window)}(),jsns.define("hr.anticsrf",["hr.http","hr.doccookies","hr.uri"],function(e,t,n,r,i){function o(e){var t,r,i;n.post(e).then(function(e){if(t=e.headerName,r=e.requestToken,void 0!==i)for(var n=0;n<i.length;++i)i[n].resolve()})["catch"](function(e){if(void 0!==i)for(var t=0;t<i.length;++i)i[t].reject()}),this.modifyPromise=function(n,r){return void 0===t&&n!==e?(void 0===i&&(i=[]),new Promise(function(e,t){i.push({resolve:e,reject:t})})):void 0},this.modifyRequest=function(n,i,o){i!==e&&n.setRequestHeader(t,r)}}function a(t){var r=u(t);void 0===l[r]&&(f&&(f=!1,n.customizeRequest.add(e,c),n.customizePromise.add(e,s)),l[r]=new o(t))}function u(e){return i.parseUri(e).authority.toLowerCase()}function s(e,t){var n=u(e),r=l[n];return void 0!==r?r.modifyPromise(e,t):void 0}function c(e,t,n){var r=u(t),i=l[r];void 0!==i&&i.modifyRequest(e,t,n)}var l={},f=!0;e.getToken=a}),jsns.define("hr.bindingcollection",["hr.escape","hr.typeidentifiers","hr.domquery","hr.textstream","hr.toggles","hr.models"],function(e,t,n,r,i,o,a,u){function s(e,t){this.execute=function(n){var r=t[e];r&&r.call(this,n)}}function c(e,t){for(var n=0;n<e.length;++n){var r=e[n];i.iterateNodes(r,NodeFilter.SHOW_ELEMENT,function(e){for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n];if(r.name.startsWith("data-hr-on-")){var i=r.value;if(t[i]){var o=new s(i,t);e.addEventListener(r.name.substr(11),o.execute)}}}})}}function l(e,t,n){for(var r,o="[data-hr-toggle="+e+"]",u=0;u<t.length;++u){var s=t[u],c=i.first(o,s);if(c)return r=a.build(c,n);r=null}return null===r&&(r=a.build(null,n)),r}function f(e,t){for(var n,r="[data-hr-model="+e+"]",o=0;o<t.length;++o){var a=t[o],s=i.first(r,a);if(s)return n=u.build(s);n=null}return null===n&&(n=new u.NullModel),n}function d(e,t){for(var n="[data-hr-handle="+e+"]",r=0;r<t.length;++r){var o=t[r],a=i.first(n,o);if(a)return a}return null}function h(e){for(var t={},n=0;n<e.length;++n){var r=e[n];i.iterateNodes(r,NodeFilter.SHOW_ELEMENT,function(e){for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n];r.name.startsWith("data-hr-config-")&&(t[r.name.substr(15)]=r.value)}})}return t}function v(e,t,n){for(var r=0;r<t.length;++r){var o=t[r];i.iterate('[data-hr-controller="'+e+'"]',o,function(e){n(e)})}}function p(e){e=i.all(e),this.setListener=function(t){c(e,t)},this.getToggle=function(t,n){return l(t,e,n)},this.getModel=function(t){return f(t,e)},this.getConfig=function(){return h(e)},this.getHandle=function(t){return d(t,e)},this.iterateControllers=function(t,n){v(t,e,n)}}t.exports=p}),jsns.run(["hr.domquery","hr.bindingcollection","hr.textstream","hr.components","hr.ignored","hr.iterable"],function(e,t,n,r,i,o,a,u){function s(e,t,n,i){for(var o=t.format(e),a=w(o),u=[],s=0;s<a.length;++s){var c=a[s];n.insertBefore(c,i),u.push(c)}return new r(u)}function c(e){function t(t,r,u){return o=new i(e),a=n,n(t,r,u)}function n(e,t,n){return s(e,o,t,n)}function r(e,t,n){return a(e,t,n)}var o,a=t;this.create=r}function l(e){function t(t,r,o){return a=new i(e),c=n,n(t,r,o)}function n(e,t,n){return s(e,a,t,n)}function r(e,t,n,r){return null!==r&&u.hasOwnProperty(r)?u[r].create(e,t,n):c(e,t,n)}function o(e,t){u[e]=t}var a,u={},c=t;this.create=r,this.addVariant=o}function f(e){if(e.length>0){var t=e[e.length-1].next();if(t.done)return e.pop(),f(e);var n=t.value,r=document.createElement("div");r.appendChild(document.importNode(n.content,!0));var i=r.getElementsByTagName("TEMPLATE");return i.length>0&&e.push(new u(Array.prototype.slice.call(i)).iterator()),{element:n,templateElement:r}}}function d(e,t){var n=e.element;if(y=m.next(),a.isIgnored(n))return t;for(var r=e.templateElement;!y.done&&r.contains(y.value.element);)var t=d(y.value,t);var i=r.innerHTML.trim();if(1===r.childElementCount&&"TABLE"===r.firstElementChild.tagName&&!n.hasAttribute("data-hr-keep-table")){var u=r.firstElementChild;i=u.childElementCount>0&&"TBODY"===u.firstElementChild.tagName?u.firstElementChild.innerHTML.trim():u.innerHTML.trim()}var s=n.parentNode;s.removeChild(n);var f=n.getAttribute("data-hr-variant"),h=n.getAttribute("data-hr-component");if(null===f){null===h&&(h="AnonTemplate_"+v++,s.setAttribute("data-hr-model-component",h));var g=new l(i);return p[h]=g,o.register(h,g.create),g}return null===h?void 0!==t?t.addVariant(f,new c(i)):console.log('Attempted to create a variant named "'+f+'" with no default component in the chain. Please start your template element chain with a data-hr-component or a anonymous template. This template has been ignored.'):p[h].addVariant(f,new c(i)),t}var h="content"in document.createElement("template"),v=0,p={},m=new u(Array.prototype.slice.call(document.getElementsByTagName("TEMPLATE")));if(h){var g=[];g.push(m.iterator()),m=new u(function(){return f(g)})}else m=m.select(function(e){return{element:e,templateElement:e}});m=m.iterator();for(var y=m.next();!y.done;)var b=d(y.value,b);var w=function(e){var t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],body:[0,"",""],_default:[1,"<div>","</div>"]};t.optgroup=t.option,t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td;var n=/<\s*\w.*?>/g.exec(e),r=document.createElement("div");if(null!=n){var r,i=n[0].replace(/</g,"").replace(/>/g,"").split(" ")[0],o=t[i]||t._default;e=o[1]+e+o[2],r.innerHTML=e;for(var a=o[0];a--;)r=r.lastChild}else r.innerHTML=e;return r.childNodes}}),jsns.define("hr.components",["hr.typeidentifiers","hr.domquery"],function(e,t,n,r){function i(e,t){l[e]=t}function o(){return null}function a(e,t,r,i,a){return void 0===a?a=o():n.isFunction(a)&&(a=a(r)),c(e,r,t,null,a,i)}function u(e,t,r,i,a){void 0===a&&(a=o);for(var u,s=null,s=t.firstElementChild;null!=s&&!s.hasAttribute("data-hr-insert");)s=s.nextElementSibling;var l=document.createDocumentFragment();if(n.isArray(r))for(var f=0;f<r.length;++f)u=a(r[f]),c(e,r[f],l,null,u,i);else n.isForEachable(r)&&r.forEach(function(t){u=a(t),c(e,t,l,null,u,i)});t.insertBefore(l,s)}function s(e){e=r.first(e);for(var t=e.firstChild,n=null;null!=t;)n=t.nextSibling,1===t.nodeType&&t.hasAttribute("data-hr-keep")||e.removeChild(t),t=n}function c(e,t,n,i,o,a){if(n=r.first(n),l.hasOwnProperty(e)){var u=l[e](t,n,i,o);return void 0!==a&&null!==a&&a(u,t),u}console.log("Failed to create component '"+e+"', cannot find factory, did you forget to define it on the page?")}var l={};e.register=i,e.single=a,e.repeat=u,e.empty=s}),jsns.define("hr.controller",["hr.bindingcollection","hr.domquery","hr.ignored"],function(e,t,n,r,i){function o(e,t,o,a){function u(e){if(!i.isIgnored(e)){var r=new n(e),a=new t(r,o,null);r.setListener(a),e.removeAttribute("data-hr-controller")}}a?a.iterateControllers(e,u):r.iterate('[data-hr-controller="'+e+'"]',null,u)}function a(e,t){return function(n,r){var i=new e(n,t,r);n.setListener(i)}}e.create=o,e.createOnCallback=a}),jsns.define("hr.doccookies",null,function(e,t){function n(e,t,n){if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var i="; expires="+r.toGMTString()}else var i="";document.cookie=e+"="+t+i+"; path=/"}function r(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function i(e){n(e,"",-1)}e.create=n,e.read=r,e.erase=i}),jsns.define("hr.domquery",["hr.typeidentifiers"],function(e,t,n){function r(e,t){return n.isString(e)&&(e=void 0!==t?this.matches(t,e)?t:t.querySelector(e):document.querySelector(e)),e}function i(e,t,r){if(n.isString(e))void 0===r&&(r=[]),void 0!==t?this.matches(t,e)?r.push(t):c(t.querySelectorAll(e),r):c(document.querySelectorAll(e),r);else if(n.isArray(e))if(void 0===r)r=e;else for(var i=0;i<e.length;++i)r.push(e[i]);else void 0===r?r=[e]:r.push(e);return r}function o(e,t,r){if(n.isString(e))t?this.matches(t,e)?r(t):l(t.querySelectorAll(e),r):l(document.querySelectorAll(e),r);else if(n.isArray(e))for(var i=0;i<e.length;++i)r(e[i]);else r(e)}function a(e){return!0}function u(e,t,n){for(var r,i=document.createNodeIterator(e,t,a,!1);r=i.nextNode();)n(r)}function s(e,t){return e.matches(t)}function c(e,t){for(var n=0;n<e.length;++n)t.push(e[n])}function l(e,t){for(var n=0;n<e.length;++n)t(e[n])}e.first=r,e.all=i,e.iterate=o,e.iterateNodes=u,e.matches=s}),jsns.define("hr.escape",null,function(e,t){function n(e){e=String(e);for(var t={textStart:0,bracketStart:0,output:""},n=0;n<e.length;++n)switch(e[n]){case"<":r(n,e,t,"&lt;");break;case">":r(n,e,t,"&gt;");break;case'"':r(n,e,t,"&quot;");break;case"'":r(n,e,t,"&#39;")}return t.textStart<e.length&&(t.output+=e.substring(t.textStart,e.length)),t.output}function r(e,t,n,r){n.bracketStart=e,n.output+=t.substring(n.textStart,n.bracketStart)+r,n.textStart=e+1}t.exports=n}),jsns.define("hr.eventhandler",null,function(e,t){function n(){function e(e,t){if(void 0===e)throw"context cannot be undefined";if(void 0===t)throw"handler cannot be undefined";r.push({handler:t,context:e})}function t(e,t){for(var n=0;n<r.length;++n)r[n].handler===t&&r[n].context===e&&r.splice(n--,1)}function n(){for(var e,t,n=0;n<r.length;++n){var i=r[n];t=i.handler.apply(i.context,arguments),void 0!==t&&(void 0===e&&(e=[]),e.push(t))}return e}var r=[];this.modifier={add:e,remove:t},this.fire=n}t.exports=n}),jsns.define("hr.lateboundeventhandler",["hr.eventhandler"],function(e,t,n){function r(){function e(e,t){if(a.modifier.add(e,t),null!==u){s=i;for(var n=0;n<u.length;++n)o.apply(this,u[n]);u=null}}function t(e,t){a.modifier.remove(e,t)}function r(){u.push(arguments)}function i(){a.fire.apply(a,arguments)}function o(){return s.apply(this,arguments)}var a=new n,u=[],s=r;this.modifier={add:e,remove:t},this.fire=o}t.exports=r}),jsns.define("hr.promiseeventhandler",null,function(e,t){function n(){function e(e,t){if(void 0===e)throw"context cannot be undefined";if(void 0===t)throw"handler cannot be undefined";r.push({handler:t,context:e})}function t(e,t){for(var n=0;n<r.length;++n)r[n].handler===t&&r[n].context===e&&r.splice(n--,1)}function n(){for(var e,t=[],n=0;n<r.length;++n){var i=r[n];t.push(new Promise(function(e,t){e(i.handler.apply(i.context,arguments))}).then(function(t){void 0!==t&&(void 0===e&&(e=[]),e.push(t))}))}return Promise.all(t).then(function(t){return e})}var r=[];this.modifier={add:e,remove:t},this.fire=n}t.exports=n}),jsns.define("hr.form",["hr.domquery","hr.typeidentifiers"],function(e,t,n,r){function i(e,t,n){if(void 0===e[t])e[t]=n;else if(r.isArray(e[t]))e[t].push(n);else{var i=e[t];e[t]=[i,n]}}function o(e){if(e=n.first(e),e&&"FORM"===e.nodeName){var t,r,o={};for(t=e.elements.length-1;t>=0;t-=1)if(""!==e.elements[t].name)switch(e.elements[t].nodeName){case"INPUT":switch(e.elements[t].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":case"file":i(o,e.elements[t].name,e.elements[t].value);break;case"checkbox":case"radio":e.elements[t].checked&&i(o,e.elements[t].name,e.elements[t].value)}break;case"TEXTAREA":i(o,e.elements[t].name,e.elements[t].value);break;case"SELECT":switch(e.elements[t].type){case"select-one":i(o,e.elements[t].name,e.elements[t].value);break;case"select-multiple":for(r=e.elements[t].options.length-1;r>=0;r-=1)e.elements[t].options[r].selected&&i(o,e.elements[t].name,e.elements[t].options[r].value)}break;case"BUTTON":switch(e.elements[t].type){case"reset":case"submit":case"button":i(o,e.elements[t].name,e.elements[t].value)}}return o}}function a(e,t){e=n.first(e);var i=n.all("[name]",e);if(r.isObject(t))for(var o=0;o<i.length;++o){var a=i[o];a.value=t[a.getAttribute("name")]}else if(r.isFunction(t))for(var o=0;o<i.length;++o){var a=i[o];switch(a.type){case"checkbox":a.checked=t(a.getAttribute("name"))===a.value;break;default:a.value=t(a.getAttribute("name"))}}}e.serialize=o,e.populate=a}),jsns.define("hr.formlifecycle",["hr.toggles","hr.http"],function(e,t,n,r){function i(e){var t=null,i=this;e.setListener({submit:function(e){e.preventDefault(),i.submit()},tryAgain:function(e){e.preventDefault(),t()}});var o=e.getToggle("load"),a=e.getToggle("main"),u=e.getToggle("fail"),s=new n.Group(o,a,u),c=e.getModel("settings");this.populate=function(){s.show(o),r.get(c.getSrc()).then(function(e){c.setData(e),s.show(a)})["catch"](function(e){t=i.populate,s.show(u)})},this.submit=function(){s.show(o);var e=c.getData();r.post(c.getSrc(),e).then(function(e){s.show(a)})["catch"](function(e){t=i.submit,s.show(u)})}}t.exports=i}),jsns.define("hr.http",["hr.eventhandler"],function(e,t,n){function r(e){var t,n=e.getResponseHeader("content-type");if(n&&-1!==n.search(/application\/json/))try{t=JSON.parse(e.response)}catch(r){t=e.response}else t=e.response;return t}function i(e,t,n){e.status>199&&e.status<300?void 0!==t&&t(r(e)):void 0!==n&&n(r(e))}function o(e,t){return c(e,"POST",t)}function a(e,t,n,r){return c(e,"PUT",t)}function u(e,t,n,r){return c(e,"DELETE",t)}function s(e,t){return(void 0===t||t===!1)&&(e+=e.indexOf("?")>-1?"&":"?",e+="noCache="+(new Date).getTime()),f(e,"GET",function(){return void 0},function(){var t=new XMLHttpRequest;return t.open("GET",e),t})}function c(e,t,n){return f(e,t,function(){return JSON.stringify(n)},function(){var n=new XMLHttpRequest;return n.open(t,e),n.setRequestHeader("Content-Type","application/json"),n})}function l(e,t){return f(e,"POST",function(){var e=null;return t instanceof FormData?e=t:(e=new FormData,e.append("file",t)),e},function(){var t=new XMLHttpRequest;return t.open("POST",e),t})}function f(e,t,n,r){var i=v.fire(e,t);return void 0===i||0===i.length?d(e,t,n,r):Promise.all(i).then(function(i){return d(e,t,n,r)})}function d(e,t,n,r){return new Promise(function(o,a){var u=r();u.withCredentials=!0,h.fire(u,e,t),u.onload=function(){i(u,o,a)};var s=n();void 0===s?u.send():u.send(s)})}var h=new n;e.customizeRequest=h.modifier;var v=new n;e.customizePromise=v.modifier,e.post=o,e.put=a,e["delete"]=u,e.get=s,e.ajax=c,e.upload=l}),jsns.define("hr.ignored",["hr.domquery"],function(e,t,n){function r(e){for(var t=0;t<i.length;++t)if(i[t].contains(e))return!0;return!1}var i=n.all("[data-hr-ignored]");e.isIgnored=r}),jsns.define("hr.iterable",["hr.typeidentifiers"],function(e,t,n){function r(){function e(e){n.push(e)}function t(e){for(var t=e,r=n.length-1;r>=0&&void 0!==t;--r)t=n[r](t);return t}var n=[];this.push=e,this.derive=t}function i(e,t){var r;return n.isArray(e)?(r=0,{next:function(){for(var n=void 0;void 0===n&&r<e.length;){var i=e[r++];n=t.derive(i)}return void 0===n?{done:!0}:{done:!1,value:n}}}):n.isFunction(e)?{next:function(){for(var n=void 0;void 0===n;){var r=e();if(void 0===r)break;n=t.derive(r)}return void 0===n?{done:!0}:{done:!1,value:n}}}:void 0}function o(e,t,r){var i;if(n.isArray(e))for(i=0;i<e.length;++i){var o=e[i],a=t.derive(o);void 0!==a&&r(a)}}function a(e,t,n,r){return n.push(t),e(n,r)}function u(e){this.select=function(t){return new s(t,e)},this.where=function(t){return new c(t,e)},this.forEach=function(t){e(new r).forEach(t)},this.iterator=function(){return e(new r).iterator()}}function s(e,t){function n(n,r){return a(t,e,n,r)}u.call(this,n)}function c(e,t){function n(e,n){return a(t,r,e,n)}function r(t){return e(t)?t:void 0}u.call(this,n)}function l(e){function t(t){return{forEach:function(n){o(e,t,n)},iterator:function(){return i(e,t)}}}u.call(this,t)}new r;t.exports=l}),jsns.define("hr.models",["hr.form","hr.textstream","hr.components","hr.typeidentifiers","hr.domquery"],function(e,t,n,r,i,o,a){function u(e){return""}function s(e,t){function r(){n.populate(e,u)}this.setData=function(t){n.populate(e,t)},this.appendData=this.setData,this.clear=r,this.getData=function(){return n.serialize(e)},this.getSrc=function(){return t}}function c(e,t,n){function r(){i.empty(e)}this.setData=function(t,n,r){i.empty(e),this.appendData(t,n,r)},this.appendData=function(t,r,a){o.isArray(t)||o.isForEachable(t)?i.repeat(n,e,t,r,a):void 0!==t&&null!==t&&i.single(n,e,t,r,a)},this.clear=r,this.getData=function(){return{}},this.getSrc=function(){return t}}function l(e,t){function n(){r=f(u,e,r)}var r=void 0;this.setData=function(t){r=f(t,e,r)},this.clear=n,this.appendData=this.setData,this.getData=function(){return{}},this.getSrc=function(){return t}}function f(e,t,n){if(void 0===n)n=[],a.iterateNodes(t,NodeFilter.SHOW_TEXT,function(t){var i=new r(t.textContent);i.foundVariable()&&(t.textContent=i.format(e),n.push({node:t,stream:i}))});else for(var i=0;i<n.length;++i){var o=n[i];o.node.textContent=o.stream.format(e)}return n}function d(e){var t=e.getAttribute("data-hr-model-src");if("FORM"===e.nodeName||"INPUT"==e.nodeName||"TEXTAREA"==e.nodeName)return new s(e,t);var n=e.getAttribute("data-hr-model-component");return n?new c(e,t,n):new l(e,t)}function h(){this.setData=function(e){},this.appendData=this.setData,this.getData=function(){return{}},this.getSrc=function(){return""}}e.build=d,e.NullModel=h}),jsns.define("hr.promiseutils",[],function(e,t,n){function r(e){var t={},n=new Promise(function(n,r){return t.resolve=n,t.reject=r,void 0!==e?e(n,r):void 0});return t.promise=n,t}e.External=r}),jsns.define("hr.storage",null,function(e,t){function n(e,t){void 0===t&&(t=null);var n=sessionStorage.getItem(e);return n=null!==n?JSON.parse(n):t}function r(e,t){sessionStorage.setItem(e,JSON.stringify(t))}e.getSessionJson=n,e.storeJsonInSession=r}),jsns.define("hr.textstream",["hr.escape","hr.typeidentifiers"],function(e,t,n,r){function i(e){this.writeObject=function(t){return e},this.writeFunction=this.writeObject}function o(e){this.writeObject=function(t){return n(t[e])},this.writeFunction=function(t){return n(t(e))}}function a(){this.writeObject=function(e){return n(e)},this.writeFunction=function(e){return n(e("this"))}}function u(e,t){(null===e||void 0===e)&&(e={});var n="";if(r.isFunction(e))for(var i=0;i<t.length;++i)n+=t[i].writeFunction(e);else for(var i=0;i<t.length;++i)n+=t[i].writeObject(e);return n}function s(e){for(var t,n,r,s=[],c=!1,l=0,f=0,d=0,h=0,v=0,p="",m=0;m<e.length;++m)if("{"==e[m]){for(f=m,h=1;++m<e.length&&"{"==e[m];)++h;for(v=h;++m<e.length&&!("}"==e[m]&&0==--v||/\s/.test(e[m])););if(0==v){switch(t=e.substring(l,f),d=m,r=e.substring(f,d+1),h){case 1:p+=t+r;break;case 2:s.push(new i(p+t)),p="",n=r.substring(2,r.length-2),s.push("this"===n?new a:new o(n));break;default:p+=t+r.substring(1,r.length-1)}l=m+1,c=!0}}l<e.length&&s.push(new i(p+e.substring(l,e.length))),this.format=function(e){return u(e,s)},this.foundVariable=function(){return c}}t.exports=s}),jsns.define("hr.timedtrigger",["hr.eventhandler"],function(e,t,n){function r(e){function t(e){l=e}function r(){clearTimeout(s),c=void 0}function i(){r(),s=window.setTimeout(u,l),c=arguments}function o(e,t){f.modifier.add(e,t)}function a(e,t){f.modifier.remove(e,t)}function u(){f.fire.apply(f,c)}void 0===e&&(e=400);var s,c,l=e,f=new n;this.handler=f.modifier,this.setDelay=t,this.cancel=r,this.fire=i,this.addListener=o,this.removeListener=a}t.exports=r}),jsns.define("hr.toggles",["hr.typeidentifiers"],function(e,t,n){function r(e){v.push(e)}function i(e,t){if(e){var n=e[t];if(n)n();else{var r=e.applyState(null);i(r,t)}}}function o(e,t,n){function r(){var r=n.applyState(t);i(r,e)}n[e]=r}function a(e){function t(t){return e}this.applyState=t}function u(e,t){function n(n){return e.style.cssText=n?r+n:r,t}var r=e.style.cssText||"";this.applyState=n}function s(e,t){function n(n){return n?e.setAttribute("class",o+" "+n):e.setAttribute("class",o),r(),t}function r(){a&&(e.classList.remove(a),e.removeEventListener("transitionend",i),e.removeEventListener("animationend",i),e.addEventListener("transitionend",i),e.addEventListener("animationend",i))}function i(){e.removeEventListener("transitionend",i),e.removeEventListener("animationend",i),e.classList.add(a)}var o=e.getAttribute("class")||"",a=e.getAttribute("data-hr-class-idle");this.applyState=n}function c(){function e(e){n.push(e)}function t(e,t,r){void 0===t&&(t="on"),void 0===r&&(r="off");for(var o=0;o<n.length;++o)i(n[o],r);i(e,t)}for(var n=[],r=0;r<arguments.length;++r)n.push(arguments[r]);this.add=e,this.activate=t,this.show=t}function l(e,t,n,r,i){for(var a=null,u=0;u<t.length;++u){var s=t[u],c=n+s;if(e.hasAttribute(c)){var l=e.getAttribute(c);null===a&&(a=new r(e,i)),o(s,l,a)}}return a?a:i}function f(e,t){void 0===t&&(t=h);var r=null;if(null!==e){r=l(e,t,"data-hr-style-",u,r),r=l(e,t,"data-hr-class-",s,r);for(var i=0;i<v.length;++i)r=v[i](e,t,r)}for(null===r&&(r=new a(r)),i=0;i<t.length;++i){var c=t[i];n.isFunction(r[c])||o(c,null,r)}return r}function d(e){return n.isObject(e)&&e.constructor.prototype==a.prototype}var h=["on","off"],v=[];e.addTogglePlugin=r,e.Group=c,e.build=f,e.isNullToggle=d}),jsns.define("hr.typeidentifiers",null,function(e,t){function n(e){return Array.isArray(e)}function r(e){return"string"==typeof e}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e}function a(e){return e&&i(e.forEach)}"undefined"==typeof Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),e.isArray=n,e.isString=r,e.isFunction=i,e.isObject=o,e.isForEachable=a}),jsns.define("hr.uri",["hr.escape"],function(e,t,n){function r(){for(var e=window.location.search.substr(1).split("&"),t={},r=0;r<e.length;++r){var i=e[r].split("=",2);1===i.length?t[i[0].toLowerCase()]="":i.length>0&&(t[i[0].toLowerCase()]=n(decodeURIComponent(i[1].replace(/\+/g," "))))}return t}function i(e){for(var t=o,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}e.getQueryObject=r;var o={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};e.parseUri=i});
//# sourceMappingURL=HtmlRapier.min.js.map
