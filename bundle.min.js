var htmlrest=htmlrest||{};htmlrest.event=function(n,t){return t===undefined&&(t=!1),new htmlrest.event.prototype.runner(n,t,null)};htmlrest.run=function(n,t){var i=new htmlrest.event.prototype.runner(t,!1,n);i()};htmlrest.func=function(n){return function(t,i,r,u){var f=n(r);f||(f=r);u.next(f)}};htmlrest.event.prototype.runner=function(n,t,i){var u=this,n=n,t=t,r=-1,i=i,f=null;return this.next=function(t){++r<n.length&&n[r](f,i,t,u)},function(n){return r=-1,i||(i=$(this)),f=n,u.next(null),t}};htmlrest.event.prototype.rest=function(){};htmlrest.event.prototype.rest.prototype.post=function(n){return function(t,i,r,u){htmlrest.event.prototype.rest.prototype.post.prototype.runner(n,t,i,r,u)}};htmlrest.event.prototype.rest.prototype.post.prototype.runner=function(n,t,i,r,u){$.ajax({method:"post",url:r,data:data,success:function(n,t,i){u.next({data:n,jqXHR:i,success:!0})},error:function(n){u.next({data:n.data,jqXHR:n,success:!1})}})};htmlrest.event.prototype.rest.prototype.put=function(n){return function(t,i,r,u){htmlrest.event.prototype.rest.prototype.put.prototype.runner(n,t,i,r,u)}};htmlrest.event.prototype.rest.prototype.put.prototype.runner=function(n,t,i,r,u){$.ajax({method:"put",url:n,data:r,success:function(n,t,i){u.next({data:n,jqXHR:i,success:!0})},error:function(n){u.next({data:n.data,jqXHR:n,success:!1})}})};htmlrest.event.prototype.rest.prototype.get=function(n){return function(t,i,r,u){htmlrest.event.prototype.rest.prototype.get.prototype.runner(n,t,i,r,u)}};htmlrest.event.prototype.rest.prototype.get.prototype.runner=function(n,t,i,r,u){$.ajax({method:"get",url:n,success:function(n,t,i){u.next({data:n,jqXHR:i,success:!0})},error:function(n){u.next({data:n.data,jqXHR:n,success:!1})}})};htmlrest.event.prototype.rest.prototype.ajax=function(n,t){return function(i,r,u,f){htmlrest.event.prototype.rest.prototype.ajax.prototype.runner(n,t,i,r,u,f)}};htmlrest.event.prototype.rest.prototype.ajax.prototype.runner=function(n,t,i,r,u,f){$.ajax({method:t,url:n,data:u,success:function(n,t,i){f.next({data:n,jqXHR:i,success:!0})},error:function(n){f.next({data:n.data,jqXHR:n,success:!1})}})};htmlrest.rest=new htmlrest.event.prototype.rest;htmlrest.event.prototype.form=function(){};htmlrest.event.prototype.form.prototype.serialize=function(n){return function(t,i,r,u){if(n===undefined)var f=i;else f=n;htmlrest.event.prototype.form.prototype.serialize.prototype.runner(f,t,i,r,u)}};htmlrest.event.prototype.form.prototype.serialize.prototype.runner=function(n,t,i,r,u){u.next(n.serialize())};htmlrest.event.prototype.form.prototype.populate=function(n){return function(t,i,r,u){if(n===undefined)var f=i;else f=n;htmlrest.event.prototype.form.prototype.populate.prototype.runner(f,t,i,r,u)}};htmlrest.event.prototype.form.prototype.populate.prototype.runner=function(n,t,i,r,u){var f=r;r.success!==undefined&&(f=r.data);n.find("[name]").each(function(){$(this).val(f[$(this).attr("name")])});u.next(n.serialize())};htmlrest.form=new htmlrest.event.prototype.form;htmlrest.event.prototype.output=function(){};htmlrest.formatText=function(n,t){var i;if(!n||!t)return n;var r="",u=0,f=0,e=0;for(i=0;i<n.length;++i)switch(n[i]){case"{":n[i+1]!="{"&&(f=i);break;case"}":(i+1==n.length||n[i+1]!="}")&&(e=i,f<e-1&&(r+=n.substring(u,f),r+=t[n.substring(f+1,e)],u=i+1))}return u<n.length&&(r+=n.substring(u,n.length)),r};htmlrest.event.prototype.output.prototype.httpResult=function(n,t,i){return function(r,u,f,e){htmlrest.event.prototype.output.prototype.httpResult.prototype.httpResultRunner(n,t,i,r,u,f,e)}};htmlrest.event.prototype.output.prototype.httpResult.prototype.httpResultRunner=function(n,t,i,r,u,f,e){var o,s;f.success?n.html(htmlrest.formatText(t,f.data)):n.html(htmlrest.formatText(i,f.data));o=n.attr("data-class-danger");o&&(f.success?n.removeClass(o):n.addClass(o));s=n.attr("data-class-success");s&&(f.success?n.addClass(s):n.removeClass(s));e.next(f)};htmlrest.event.prototype.output.prototype.format=function(n,t){return function(i,r,u,f){htmlrest.event.prototype.output.prototype.format.prototype.httpResultRunner(n,t,i,r,u,f)}};htmlrest.event.prototype.output.prototype.format.prototype.showRunner=function(n,t,i,r,u,f){n.html(htmlrest.formatText(t,u));f.next(u)};htmlrest.event.prototype.output.prototype.write=function(n,t){return function(i,r,u,f){htmlrest.event.prototype.output.prototype.write.prototype.httpResultRunner(n,t,i,r,u,f)}};htmlrest.event.prototype.output.prototype.write.prototype.showRunner=function(n,t,i,r,u,f){n.html(u);f.next(u)};htmlrest.output=new htmlrest.event.prototype.output;