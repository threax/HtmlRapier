"use strict";var jsns=function(){function t(t){return void 0!==a[t]}function e(t){return void 0!==u[t]}function n(t){var e=i(u[t]);return e&&delete u[t],e}function r(){this.exports={}}function i(i){for(var o=i.dependencies,s=!0,u=0;u<o.length;++u){var l=o[u];l.loaded=t(l.name),!l.loaded&&e(l.name)&&(l.loaded=n(l.name)),s=s&&l.loaded}if(s){var c=new r;i.name&&(a[i.name]=c);for(var f=[c.exports,c],u=0;u<o.length;++u){var l=o[u];f.push(a[l.name].exports)}i.factory.apply(c,f)}return s}function o(e,n,r){if(this.name=e,this.factory=r,this.dependencies=[],n)for(var i=0;i<n.length;++i){var o=n[i];this.dependencies.push({name:o,loaded:t(o)})}}function s(){for(var t=0;t<l.length;++t){var e=l[t];i(e)&&l.splice(t--,1)}}var a={},u={},l=[];return{run:function(t,e){l.push(new o(null,t,e)),s()},define:function(t,e,n){u[t]=new o(t,e,n),s()},debug:function(){if(l.length>0)for(var e=0;e<l.length;++e){var n=l[e];console.log("Runner waiting "+n);for(var r=0;r<n.dependencies.length;++r){var i=n.dependencies[r];t(i.name)||console.log("  dependency "+i.name)}}else console.log("No runners remaining.")}}}();!function(){function t(t){function e(){}function n(t,e){return function(){t.apply(e,arguments)}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function i(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void r._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?o:s)(e.promise,t._value);var r;try{r=n(t._value)}catch(i){return void s(e.promise,i)}o(e.promise,r)}))}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof r)return t._state=3,t._value=e,void a(t);if("function"==typeof i)return void l(n(i,e),t)}t._state=1,t._value=e,a(t)}catch(o){s(t,o)}}function s(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;n>e;e++)i(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,o(e,t))},function(t){n||(n=!0,s(e,t))})}catch(r){if(n)return;n=!0,s(e,r)}}var c=setTimeout;r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,n){var r=new this.constructor(e);return i(this,new u(t,n,r)),r},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function r(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){r(o,t)},n)}e[o]=s,0===--i&&t(e)}catch(u){n(u)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){for(var r=0,i=t.length;i>r;r++)t[r].then(e,n)})},r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){c(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function(t){r._immediateFn=t},r._setUnhandledRejectionFn=function(t){r._unhandledRejectionFn=t},t.Promise=r}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}),"undefined"==typeof window.Promise&&t(window)}(),jsns.define("htmlrest.bindingcollection",["htmlrest.escape","htmlrest.typeidentifiers","htmlrest.domquery","htmlrest.textstream","htmlrest.toggles","htmlrest.models"],function(t,e,n,r,i,o,s,a){function u(t,e){this.execute=function(n){var r=e[t];r&&r.call(this,n)}}function l(t,e){for(var n=0;n<t.length;++n){var r=t[n];i.iterateNodes(r,NodeFilter.SHOW_ELEMENT,function(t){for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n];if(r.name.startsWith("data-hr-on-")){var i=r.value;if(e[i]){var o=new u(i,e);t.addEventListener(r.name.substr(11),o.execute)}}}})}}function c(t,e,n,r){var o=r[t];if(void 0===o)for(var a="[data-hr-toggle="+t+"]",u=0;u<e.length;++u){var l=e[u],c=i.first(a,l);if(c)return o=s.build(c,n),r[t]=o,o;o=null}return null===o&&(o=s.build(null,n)),o}function f(t,e,n){var r=n[t];if(void 0===r)for(var o="[data-hr-model="+t+"]",s=0;s<e.length;++s){var u=e[s],l=i.first(o,u);if(l)return r=a.build(l),n[t]=r,r;r=null}return null===r&&(r=new a.NullModel),r}function d(t){for(var e={},n=0;n<t.length;++n){var r=t[n];i.iterateNodes(r,NodeFilter.SHOW_ELEMENT,function(t){for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n];r.name.startsWith("data-hr-config-")&&(e[r.name.substr(15)]=r.value)}})}return e}function h(t){t=i.all(t);var e=void 0,n=void 0,r=void 0;this.setListener=function(e){l(t,e)},this.setData=function(n){e=bindData(n,t,e)},this.getToggle=function(e,r){return void 0===n&&(n={}),c(e,t,r,n)},this.getModel=function(e){return void 0===r&&(r={}),f(e,t,r)},this.getConfig=function(){return d(t)}}e.exports=h}),jsns.run(["htmlrest.domquery","htmlrest.bindingcollection","htmlrest.textstream","htmlrest.components"],function(t,e,n,r,i,o){function s(t,e,n,i){for(var o=e.format(t),s=p(o),a=[],u=0;u<s.length;++u){var l=s[u];n.insertBefore(l,i),a.push(l)}return new r(a)}function a(t){function e(e,r,s){return o=new i(t),a=n,n(e,r,s)}function n(t,e,n){return s(t,o,e,n)}function r(t,e,n){return a(t,e,n)}var o,a=e;this.create=r}function u(t){function e(e,r,o){return a=new i(t),l=n,n(e,r,o)}function n(t,e,n){return s(t,a,e,n)}function r(t,e,n,r){return null!==r&&u.hasOwnProperty(r)?u[r].create(t,e,n):l(t,e,n)}function o(t,e){u[t]=e}var a,u={},l=e;this.create=r,this.addVariant=o}function l(t,e){var n=t;if(c){var n=document.createElement("div");n.appendChild(document.importNode(t.content,!0))}for(var r=n.getElementsByTagName("TEMPLATE");r.length>0;)var e=l(r[0],e);var i=n.innerHTML.trim();if(1===n.childElementCount&&"TABLE"===n.firstElementChild.tagName&&!t.hasAttribute("data-hr-keep-table")){var s=n.firstElementChild;i=s.childElementCount>0&&"TBODY"===s.firstElementChild.tagName?s.firstElementChild.innerHTML.trim():s.innerHTML.trim()}var h=t.parentNode;h.removeChild(t);var m=t.getAttribute("data-hr-variant"),p=t.getAttribute("data-hr-component");if(null===m){null===p&&(p="AnonTemplate_"+f++,h.setAttribute("data-hr-model-component",p));var v=new u(i);return d[p]=v,o.register(p,v.create),v}return null===p?void 0!==e?e.addVariant(m,new a(i)):console.log('Attempted to create a variant named "'+m+'" with no default component in the chain. Please start your template element chain with a data-hr-component or a anonymous template. This template has been ignored.'):d[p].addVariant(m,new a(i)),e}for(var c=("content"in document.createElement("template")),f=0,d={},h=document.getElementsByTagName("TEMPLATE");h.length>0;)var m=l(h[0],m);var p=function(t){var e={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],body:[0,"",""],_default:[1,"<div>","</div>"]};e.optgroup=e.option,e.tbody=e.tfoot=e.colgroup=e.caption=e.thead,e.th=e.td;var n=/<\s*\w.*?>/g.exec(t),r=document.createElement("div");if(null!=n){var r,i=n[0].replace(/</g,"").replace(/>/g,"").split(" ")[0],o=e[i]||e._default;t=o[1]+t+o[2],r.innerHTML=t;for(var s=o[0];s--;)r=r.lastChild}else r.innerHTML=t;return r.childNodes}}),jsns.define("htmlrest.components",["htmlrest.typeidentifiers","htmlrest.domquery"],function(t,e,n,r){function i(t,e){c[t]=e}function o(){return null}function s(t,e,n,r,i){return void 0===i&&(i=o()),l(t,n,e,null,i,r)}function a(t,e,r,i,s){void 0===s&&(s=o);for(var a,u=null,u=e.firstElementChild;null!=u&&!u.hasAttribute("data-hr-insert");)u=u.nextElementSibling;var c=document.createDocumentFragment();if(Array.isArray(r))for(var f=0;f<r.length;++f)a=s(r[f]),l(t,r[f],c,null,a,i);else if(n.isFunction(r)){var d=r();for(a=s(d);null!=d;)l(t,d,c,null,a,i),d=r(),a=s(d)}e.insertBefore(c,u)}function u(t){t=r.first(t);for(var e=t.firstChild,n=null;null!=e;)n=e.nextSibling,1===e.nodeType&&e.hasAttribute("data-hr-keep")||t.removeChild(e),e=n}function l(t,e,n,i,o,s){if(n=r.first(n),c.hasOwnProperty(t)){var a=c[t](e,n,i,o);return void 0!==s&&null!==s&&s(a,e),a}console.log("Failed to create component '"+t+"', cannot find factory, did you forget to define it on the page?")}var c={};t.register=i,t.single=s,t.repeat=a,t.empty=u}),jsns.define("htmlrest.controller",["htmlrest.bindingcollection","htmlrest.domquery"],function(t,e,n,r){function i(t,e,i){r.iterate('[data-hr-controller="'+t+'"]',null,function(t){var r=new n(t),o=new e(r,i,null);r.setListener(o),t.removeAttribute("data-hr-controller")})}function o(t,e){return function(n,r){var i=new t(n,e,r);n.setListener(i)}}t.create=i,t.createOnCallback=o}),jsns.define("htmlrest.domquery",["htmlrest.typeidentifiers"],function(t,e,n){function r(t,e){return n.isString(t)&&(t=void 0!==e?this.matches(e,t)?e:e.querySelector(t):document.querySelector(t)),t}function i(t,e,r){if(n.isString(t))void 0===r&&(r=[]),void 0!==e?this.matches(e,t)?r.push(e):l(e.querySelectorAll(t),r):l(document.querySelectorAll(t),r);else if(n.isArray(t))if(void 0===r)r=t;else for(var i=0;i<t.length;++i)r.push(t[i]);else void 0===r?r=[t]:r.push(t);return r}function o(t,e,r){if(n.isString(t))e?this.matches(e,t)?r(e):c(e.querySelectorAll(t),r):c(document.querySelectorAll(t),r);else if(n.isArray(t))for(var i=0;i<t.length;++i)r(t[i]);else r(t)}function s(t){return!0}function a(t,e,n){for(var r,i=document.createNodeIterator(t,e,s,!1);r=i.nextNode();)n(r)}function u(t,e){return t.matches(e)}function l(t,e){for(var n=0;n<t.length;++n)e.push(t[n])}function c(t,e){for(var n=0;n<t.length;++n)e(t[n])}t.first=r,t.all=i,t.iterate=o,t.iterateNodes=a,t.matches=u}),jsns.define("htmlrest.escape",null,function(t,e){function n(t){t=String(t);for(var e={textStart:0,bracketStart:0,output:""},n=0;n<t.length;++n)switch(t[n]){case"<":r(n,t,e,"&lt;");break;case">":r(n,t,e,"&gt;");break;case'"':r(n,t,e,"&quot;");break;case"'":r(n,t,e,"&#39;")}return e.textStart<t.length&&(e.output+=t.substring(e.textStart,t.length)),e.output}function r(t,e,n,r){n.bracketStart=t,n.output+=e.substring(n.textStart,n.bracketStart)+r,n.textStart=t+1}e.exports=n}),jsns.define("htmlrest.eventhandler",null,function(t,e){function n(){function t(t,e){if(void 0===t)throw"context cannot be undefined";if(void 0===e)throw"handler cannot be undefined";r.push({handler:e,context:t})}function e(t,e){for(var n=0;n<r.length;++n)r[n].handler===e&&r[n].context===t&&r.splice(n--,1)}function n(){for(var t,e,n=0;n<r.length;++n){var i=r[n];e=i.handler.apply(i.context,arguments),void 0!==e&&(void 0===t&&(t=[]),t.push(e))}return t}var r=[];this.modifier={add:t,remove:e},this.fire=n}e.exports=n}),jsns.define("htmlrest.lateboundeventhandler",["htmlrest.eventhandler"],function(t,e,n){function r(){function t(t,e){if(s.modifier.add(t,e),null!==a){u=i;for(var n=0;n<a.length;++n)o.apply(this,a[n]);a=null}}function e(t,e){s.modifier.remove(t,e)}function r(){a.push(arguments)}function i(){s.fire.apply(s,arguments)}function o(){return u.apply(this,arguments)}var s=new n,a=[],u=r;this.modifier={add:t,remove:e},this.fire=o}e.exports=r}),jsns.define("htmlrest.promiseeventhandler",null,function(t,e){function n(){function t(t,e){if(void 0===t)throw"context cannot be undefined";if(void 0===e)throw"handler cannot be undefined";r.push({handler:e,context:t})}function e(t,e){for(var n=0;n<r.length;++n)r[n].handler===e&&r[n].context===t&&r.splice(n--,1)}function n(){for(var t,e=[],n=0;n<r.length;++n){var i=r[n];e.push(new Promise(function(t,e){t(i.handler.apply(i.context,arguments))}).then(function(e){void 0!==e&&(void 0===t&&(t=[]),t.push(e))}))}return Promise.all(e).then(function(e){return t})}var r=[];this.modifier={add:t,remove:e},this.fire=n}e.exports=n}),jsns.define("htmlrest.form",["htmlrest.domquery","htmlrest.typeidentifiers"],function(t,e,n,r){function i(t){if(t=n.first(t),t&&"FORM"===t.nodeName){var e,r,i={};for(e=t.elements.length-1;e>=0;e-=1)if(""!==t.elements[e].name)switch(t.elements[e].nodeName){case"INPUT":switch(t.elements[e].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":case"file":i[t.elements[e].name]=t.elements[e].value;break;case"checkbox":case"radio":t.elements[e].checked&&(i[t.elements[e].name]=t.elements[e].value)}break;case"TEXTAREA":i[t.elements[e].name]=t.elements[e].value;break;case"SELECT":switch(t.elements[e].type){case"select-one":i[t.elements[e].name]=t.elements[e].value;break;case"select-multiple":for(r=t.elements[e].options.length-1;r>=0;r-=1)t.elements[e].options[r].selected&&(i[t.elements[e].name]=t.elements[e].options[r].value)}break;case"BUTTON":switch(t.elements[e].type){case"reset":case"submit":case"button":i[t.elements[e].name]=t.elements[e].value}}return i}}function o(t,e){t=n.first(t);var i=n.all("[name]",t);if(r.isObject(e))for(var o=0;o<i.length;++o){var s=i[o];s.value=e[s.getAttribute("name")]}else if(r.isFunction(e))for(var o=0;o<i.length;++o){var s=i[o];s.value=e(s.getAttribute("name"))}}t.serialize=i,t.populate=o}),jsns.define("htmlrest.formlifecycle",["htmlrest.toggles","htmlrest.rest"],function(t,e,n,r){function i(t){var e=null,i=this;t.setListener({submit:function(t){t.preventDefault(),i.submit()},tryAgain:function(t){t.preventDefault(),e()}});var o=t.getToggle("load"),s=t.getToggle("main"),a=t.getToggle("fail"),u=new n.Group(o,s,a),l=t.getModel("settings");this.populate=function(){u.show(o),r.get(l.getSrc(),function(t){l.setData(t),u.show(s)},function(t){e=i.populate,u.show(a)})},this.submit=function(){u.show(o);var t=l.getData();r.post(l.getSrc(),t,function(t){u.show(s)},function(t){e=i.submit,u.show(a)})}}e.exports=i}),jsns.define("htmlrest.iter",null,function(t,e){function n(t,e){var n=0;return function(){return n<t.length?e(t[n++]):null}}e.exports=n}),jsns.define("htmlrest.models",["htmlrest.form","htmlrest.textstream","htmlrest.components","htmlrest.typeidentifiers","htmlrest.domquery"],function(t,e,n,r,i,o,s){function a(t){return""}function u(t,e){function r(){n.populate(t,a)}this.setData=function(e){n.populate(t,e)},this.appendData=this.setData,this.clear=r,this.getData=function(){return n.serialize(t)},this.getSrc=function(){return e}}function l(t,e,n){function r(){i.empty(t)}this.setData=function(e,n,r){i.empty(t),this.appendData(e,n,r)},this.appendData=function(e,r,s){o.isArray(e)||o.isFunction(e)?i.repeat(n,t,e,r,s):e&&i.single(n,t,e,r,s)},this.clear=r,this.getData=function(){return{}},this.getSrc=function(){return e}}function c(t,e){function n(){r=f(a,t,r)}var r=void 0;this.setData=function(e){r=f(e,t,r)},this.clear=n,this.appendData=this.setData,this.getData=function(){return{}},this.getSrc=function(){return e}}function f(t,e,n){if(void 0===n)n=[],s.iterateNodes(e,NodeFilter.SHOW_TEXT,function(e){var i=new r(e.textContent);i.foundVariable()&&(e.textContent=i.format(t),n.push({node:e,stream:i}))});else for(var i=0;i<n.length;++i){var o=n[i];o.node.textContent=o.stream.format(t)}return n}function d(t){var e=t.getAttribute("data-hr-model-src");if("FORM"===t.nodeName||"INPUT"==t.nodeName||"TEXTAREA"==t.nodeName)return new u(t,e);var n=t.getAttribute("data-hr-model-component");return n?new l(t,e,n):new c(t,e)}function h(){this.setData=function(t){},this.appendData=this.setData,this.getData=function(){return{}},this.getSrc=function(){return""}}t.build=d,t.NullModel=h}),jsns.define("htmlrest.rest",null,function(t,e){function n(t){var e,n=t.getResponseHeader("content-type");if(n&&-1!==n.search(/application\/json/))try{e=JSON.parse(t.response)}catch(r){e=t.response}else e=t.response;return e}function r(t,e,r){200===t.status?void 0!==e&&e(n(t)):void 0!==r&&r(n(t))}function i(t,e,n,r){d(t,"POST",e,n,r)}function o(t,e){return new Promise(function(n,r){i(t,e,n,r)})}function s(t,e,n,r){d(t,"PUT",e,n,r)}function a(t,e){return new Promise(function(n,r){s(t,e,n,r)})}function u(t,e,n,r){d(t,"DELETE",e,n,r)}function l(t,e){return new Promise(function(n,r){u(t,e,n,r)})}function c(t,e,n,i){void 0===n&&(n=e),(void 0===i||i===!1)&&(t+=t.indexOf("?")>-1?"&":"?",t+="noCache="+(new Date).getTime());var o=new XMLHttpRequest;o.open("GET",t),o.onload=function(){r(o,e,n)},o.send()}function f(t,e){return new Promise(function(n,r){c(t,n,r,e)})}function d(t,e,n,i,o){void 0===o&&(o=i);var s=new XMLHttpRequest;s.open(e,t),s.setRequestHeader("Content-Type","application/json"),s.onload=function(){r(s,i,o)},s.send(JSON.stringify(n))}function h(t,e,n){return new Promise(function(r,i){d(t,e,n,r,i)})}function m(t,e,n,i){void 0===i&&(i=n);var o=null;e instanceof FormData?o=e:(o=new FormData,o.append("file",e));var s=new XMLHttpRequest;s.open("POST",t),s.onload=function(){r(s,n,i)},s.send(o)}function p(t,e){return new Promise(function(n,r){m(t,e,n,r)})}t.post=i,t.postPromise=o,t.put=s,t.putPromise=a,t["delete"]=u,t.delPromise=l,t.get=c,t.getPromise=f,t.ajax=d,t.ajaxPromise=h,t.upload=m,t.uploadPromise=p}),jsns.define("htmlrest.storage",null,function(t,e){function n(t,e){void 0===e&&(e=null);var n=sessionStorage.getItem(t);return n=null!==n?JSON.parse(n):e}function r(t,e){sessionStorage.setItem(t,JSON.stringify(e))}function i(t,e){return s.hasOwnProperty(t)?s[t]:(void 0!==e&&this.storeInInstance(t,e),e)}function o(t,e){s[t]=e}var s={};t.getSessionJson=n,t.storeJsonInSession=r,t.getInInstance=i,t.storeInInstance=o}),jsns.define("htmlrest.textstream",["htmlrest.escape","htmlrest.typeidentifiers"],function(t,e,n,r){function i(t){this.writeObject=function(e){return t},this.writeFunction=this.writeObject}function o(t){this.writeObject=function(e){return n(e[t])},this.writeFunction=function(e){return n(e(t))}}function s(){this.writeObject=function(t){return n(t)},this.writeFunction=function(t){return n(t("this"))}}function a(t,e){(null===t||void 0===t)&&(t={});var n="";if(r.isFunction(t))for(var i=0;i<e.length;++i)n+=e[i].writeFunction(t);else for(var i=0;i<e.length;++i)n+=e[i].writeObject(t);return n}function u(t){for(var e,n,r,u=[],l=!1,c=0,f=0,d=0,h=0,m=0,p="",v=0;v<t.length;++v)if("{"==t[v]){for(f=v,h=1;++v<t.length&&"{"==t[v];)++h;for(m=h;++v<t.length&&!("}"==t[v]&&0==--m||/\s/.test(t[v])););if(0==m){switch(e=t.substring(c,f),d=v,r=t.substring(f,d+1),h){case 1:p+=e+r;break;case 2:u.push(new i(p+e)),p="",n=r.substring(2,r.length-2),u.push("this"===n?new s:new o(n));break;default:p+=e+r.substring(1,r.length-1)}c=v+1,l=!0}}c<t.length&&u.push(new i(p+t.substring(c,t.length))),this.format=function(t){return a(t,u)},this.foundVariable=function(){return l}}e.exports=u}),jsns.define("htmlrest.timedtrigger",["htmlrest.eventhandler"],function(t,e,n){function r(t){function e(t){c=t}function r(){clearTimeout(u),l=void 0}function i(){r(),u=window.setTimeout(a,c),l=arguments}function o(t,e){f.modifier.add(t,e)}function s(t,e){f.modifier.remove(t,e)}function a(){f.fire.apply(f,l)}void 0===t&&(t=400);var u,l,c=t,f=new n;this.handler=f.modifier,this.setDelay=e,this.cancel=r,this.fire=i,this.addListener=o,this.removeListener=s}e.exports=r}),jsns.define("htmlrest.toggles",["htmlrest.typeidentifiers"],function(t,e,n){function r(t){m.push(t)}function i(t,e){if(t){var n=t[e];if(n)n();else{var r=t.applyState(null);i(r,e)}}}function o(t,e,n){function r(){var r=n.applyState(e);i(r,t)}n[t]=r}function s(t){function e(e){return t}this.applyState=e}function a(t,e){function n(n){return t.style.cssText=n?r+n:r,e}var r=t.style.cssText||"";this.applyState=n}function u(t,e){function n(n){return n?t.setAttribute("class",o+" "+n):t.setAttribute("class",o),r(),e}function r(){s&&(t.classList.remove(s),t.removeEventListener("transitionend",i),t.removeEventListener("animationend",i),t.addEventListener("transitionend",i),t.addEventListener("animationend",i))}function i(){t.removeEventListener("transitionend",i),t.removeEventListener("animationend",i),t.classList.add(s)}var o=t.getAttribute("class")||"",s=t.getAttribute("data-hr-class-idle");this.applyState=n}function l(){function t(t){n.push(t)}function e(t,e,r){void 0===e&&(e="on"),void 0===r&&(r="off");for(var o=0;o<n.length;++o)i(n[o],r);i(t,e)}for(var n=[],r=0;r<arguments.length;++r)n.push(arguments[r]);this.add=t,this.activate=e,this.show=e}function c(t,e,n,r,i){for(var s=null,a=0;a<e.length;++a){var u=e[a],l=n+u;if(t.hasAttribute(l)){var c=t.getAttribute(l);null===s&&(s=new r(t,i)),o(u,c,s)}}return s?s:i}function f(t,e){void 0===e&&(e=h);var r=null;if(null!==t){r=c(t,e,"data-hr-style-",a,r),r=c(t,e,"data-hr-class-",u,r);for(var i=0;i<m.length;++i)r=m[i](t,e,r)}for(null===r&&(r=new s(r)),i=0;i<e.length;++i){var l=e[i];n.isFunction(r[l])||o(l,null,r)}return r}function d(t){return n.isObject(t)&&t.constructor.prototype==s.prototype}var h=["on","off"],m=[];t.addTogglePlugin=r,t.Group=l,t.build=f,t.isNullToggle=d}),jsns.define("htmlrest.typeidentifiers",null,function(t,e){function n(t){return Array.isArray(t)}function r(t){return"string"==typeof t}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t}"undefined"==typeof Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),t.isArray=n,t.isString=r,t.isFunction=i,t.isObject=o}),jsns.run(["htmlrest.toggles"],function(t,e,n){function r(t,e){function n(){return o.open(),e}function r(){return o.close(),e}function i(t){return e}var o=new Modal(t);this.on=n,this.off=r,this.applyState=i}n.addTogglePlugin(function(t,e,n){return t.classList.contains("modal")&&(n=new r(t,n)),n})}),jsns.define("htmlrest.widgets.navmenu",["htmlrest.eventhandler","htmlrest.controller"],function(t,e,n,r){function i(){function t(t,e){void 0!==e&&(e=r.createOnCallback(e));var n={name:t,created:e};i.push(n),o.fire(n)}function e(){return i}var i=[],o=new n;this.itemAdded=o.modifier,this.add=t,this.getItems=e}function o(t){var e=s[t];return void 0===e&&(s[t]=e=new i),e}var s={};t.getNavMenu=o}),jsns.define("htmlrest.widgets.pagenumbers",["htmlrest.toggles","htmlrest.eventhandler"],function(t,e,n,r){function i(t,e){function i(t){p.fire(t)}function o(t){return function(){i(v+t)}}function s(){var t=g.currentPage+1;f>t&&i(t)}function a(){var t=g.currentPage-1;t>=0&&i(t)}function u(){for(var t={previousPage:function(t){t.preventDefault(),a()},nextPage:function(t){t.preventDefault(),s()}},r=["on","off","active"],i=0,u="page"+i,l=e.getToggle(u,r);!n.isNullToggle(l);)c.push(l),d.add(l),t[u]=o(i),u="page"+ ++i,l=e.getToggle(u,r);e.setListener(t)}function l(){f=Math.floor(this.totalResults/this.resultsPerPage),this.totalResults%this.resultsPerPage!==0&&++f;var e,n=0;e=this.currentPage+m>f?f-h:this.currentPage-m,0>e&&(e=0),v=e,t.setData(function(t){return e===g.currentPage&&d.activate(c[n],"active","on"),e>=f&&c[n].off(),++n,e++ +1})}var c=[],f=0,d=new n.Group;u();var h=c.length,m=Math.floor(h/2),p=new r;this.pageChangeRequested=p.modifier;var v=0,g=this;this.currentPage=0,this.totalResults=0,this.resultsPerPage=0,this.updatePages=l}e.exports=i}),jsns.define("htmlrest.data.paged",["htmlrest.rest","htmlrest.eventhandler"],function(t,e,n,r){function i(t,e){function i(){o.fire();var e=t+"?page="+this.currentPage+"&count="+this.resultsPerPage;n.get(e,function(t){s.fire(t)},function(t){a.fire(t)})}var o=new r;this.updating=o.modifier;var s=new r;this.updated=s.modifier;var a=new r;this.error=a.modifier,this.resultsPerPage=e,this.currentPage=0,this.updateData=i}e.exports=i});
//# sourceMappingURL=htmlrest.min.js.map
