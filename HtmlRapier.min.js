"use strict";var jsns=function(){function e(e){return void 0!==u[e]}function t(e){return void 0!==s[e]}function n(e){var t=i(s[e]);return t&&delete s[e],t}function r(){this.exports={}}function i(i){for(var o=i.dependencies,a=!0,s=0;s<o.length;++s){var c=o[s];c.loaded=e(c.name),!c.loaded&&t(c.name)&&(c.loaded=n(c.name)),a=a&&c.loaded}if(a){var f=new r;i.name&&(u[i.name]=f);for(var l=[f.exports,f],s=0;s<o.length;++s){var c=o[s];l.push(u[c.name].exports)}i.factory.apply(f,l)}return a}function o(t,n,r){if(this.name=t,this.factory=r,this.dependencies=[],n)for(var i=0;i<n.length;++i){var o=n[i];this.dependencies.push({name:o,loaded:e(o)})}}function a(){for(var e=0;e<c.length;++e){var t=c[e];i(t)&&c.splice(e--,1)}}var u={},s={},c=[];return{run:function(e,t){c.push(new o(null,e,t)),a()},define:function(e,t,n){s[e]=new o(e,t,n),a()},debug:function(){if(c.length>0)for(var t=0;t<c.length;++t){var n=c[t];console.log("Runner waiting "+n);for(var r=0;r<n.dependencies.length;++r){var i=n.dependencies[r];e(i.name)||console.log("  dependency "+i.name)}}else console.log("No runners remaining.")}}}();!function(){function e(e){function t(){}function n(e,t){return function(){e.apply(t,arguments)}}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function i(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void r._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?o:a)(t.promise,e._value);var r;try{r=n(e._value)}catch(i){return void a(t.promise,i)}o(t.promise,r)}))}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof r)return e._state=3,e._value=t,void u(e);if("function"==typeof i)return void c(n(i,t),e)}e._state=1,e._value=t,u(e)}catch(o){a(e,o)}}function a(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;n>t;t++)i(e,e._deferreds[t]);e._deferreds=null}function s(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,a(t,e))})}catch(r){if(n)return;n=!0,a(t,r)}}var f=setTimeout;r.prototype["catch"]=function(e){return this.then(null,e)},r.prototype.then=function(e,n){var r=new this.constructor(t);return i(this,new s(e,n,r)),r},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(o,e)},n)}t[o]=a,0===--i&&e(t)}catch(s){n(s)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)})},r._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){f(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},e.Promise=r}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),"undefined"==typeof window.Promise&&e(window)}(),jsns.define("hr.bindingcollection",["hr.escape","hr.typeidentifiers","hr.domquery","hr.textstream","hr.toggles","hr.models"],function(e,t,n,r,i,o,a,u){function s(e,t){this.execute=function(n){var r=t[e];r&&r.call(this,n)}}function c(e,t){for(var n=0;n<e.length;++n){var r=e[n];i.iterateNodes(r,NodeFilter.SHOW_ELEMENT,function(e){for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n];if(r.name.startsWith("data-hr-on-")){var i=r.value;if(t[i]){var o=new s(i,t);e.addEventListener(r.name.substr(11),o.execute)}}}})}}function f(e,t,n,r){var o=r[e];if(void 0===o)for(var u="[data-hr-toggle="+e+"]",s=0;s<t.length;++s){var c=t[s],f=i.first(u,c);if(f)return o=a.build(f,n),r[e]=o,o;o=null}return null===o&&(o=a.build(null,n)),o}function l(e,t,n){var r=n[e];if(void 0===r)for(var o="[data-hr-model="+e+"]",a=0;a<t.length;++a){var s=t[a],c=i.first(o,s);if(c)return r=u.build(c),n[e]=r,r;r=null}return null===r&&(r=new u.NullModel),r}function d(e){for(var t={},n=0;n<e.length;++n){var r=e[n];i.iterateNodes(r,NodeFilter.SHOW_ELEMENT,function(e){for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n];r.name.startsWith("data-hr-config-")&&(t[r.name.substr(15)]=r.value)}})}return t}function h(e,t,n){for(var r=0;r<t.length;++r){var o=t[r];i.iterate('[data-hr-controller="'+e+'"]',o,function(e){n(e)})}}function v(e){e=i.all(e);var t=void 0,n=void 0,r=void 0;this.setListener=function(t){c(e,t)},this.setData=function(n){t=bindData(n,e,t)},this.getToggle=function(t,r){return void 0===n&&(n={}),f(t,e,r,n)},this.getModel=function(t){return void 0===r&&(r={}),l(t,e,r)},this.getConfig=function(){return d(e)},this.iterateControllers=function(t,n){h(t,e,n)}}t.exports=v}),jsns.run(["hr.domquery","hr.bindingcollection","hr.textstream","hr.components","hr.ignored","hr.iterable"],function(e,t,n,r,i,o,a,u){function s(e,t,n,i){for(var o=t.format(e),a=y(o),u=[],s=0;s<a.length;++s){var c=a[s];n.insertBefore(c,i),u.push(c)}return new r(u)}function c(e){function t(t,r,u){return o=new i(e),a=n,n(t,r,u)}function n(e,t,n){return s(e,o,t,n)}function r(e,t,n){return a(e,t,n)}var o,a=t;this.create=r}function f(e){function t(t,r,o){return a=new i(e),c=n,n(t,r,o)}function n(e,t,n){return s(e,a,t,n)}function r(e,t,n,r){return null!==r&&u.hasOwnProperty(r)?u[r].create(e,t,n):c(e,t,n)}function o(e,t){u[e]=t}var a,u={},c=t;this.create=r,this.addVariant=o}function l(e,t){if(m=p.next(),a.isIgnored(e))return t;var n=e;if(d){var n=document.createElement("div");n.appendChild(document.importNode(e.content,!0))}for(;!m.done&&e.contains(m.value);)var t=l(m.value,t);var r=n.innerHTML.trim();if(1===n.childElementCount&&"TABLE"===n.firstElementChild.tagName&&!e.hasAttribute("data-hr-keep-table")){var i=n.firstElementChild;r=i.childElementCount>0&&"TBODY"===i.firstElementChild.tagName?i.firstElementChild.innerHTML.trim():i.innerHTML.trim()}var u=e.parentNode;u.removeChild(e);var s=e.getAttribute("data-hr-variant"),g=e.getAttribute("data-hr-component");if(null===s){null===g&&(g="AnonTemplate_"+h++,u.setAttribute("data-hr-model-component",g));var y=new f(r);return v[g]=y,o.register(g,y.create),y}return null===g?void 0!==t?t.addVariant(s,new c(r)):console.log('Attempted to create a variant named "'+s+'" with no default component in the chain. Please start your template element chain with a data-hr-component or a anonymous template. This template has been ignored.'):v[g].addVariant(s,new c(r)),t}for(var d=("content"in document.createElement("template")),h=0,v={},p=new u(Array.prototype.slice.call(document.getElementsByTagName("TEMPLATE"))).iterator(),m=p.next();!m.done;)var g=l(m.value,g);var y=function(e){var t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],body:[0,"",""],_default:[1,"<div>","</div>"]};t.optgroup=t.option,t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td;var n=/<\s*\w.*?>/g.exec(e),r=document.createElement("div");if(null!=n){var r,i=n[0].replace(/</g,"").replace(/>/g,"").split(" ")[0],o=t[i]||t._default;e=o[1]+e+o[2],r.innerHTML=e;for(var a=o[0];a--;)r=r.lastChild}else r.innerHTML=e;return r.childNodes}}),jsns.define("hr.components",["hr.typeidentifiers","hr.domquery"],function(e,t,n,r){function i(e,t){f[e]=t}function o(){return null}function a(e,t,r,i,a){return void 0===a?a=o():n.isFunction(a)&&(a=a(r)),c(e,r,t,null,a,i)}function u(e,t,r,i,a){void 0===a&&(a=o);for(var u,s=null,s=t.firstElementChild;null!=s&&!s.hasAttribute("data-hr-insert");)s=s.nextElementSibling;var f=document.createDocumentFragment();if(n.isArray(r))for(var l=0;l<r.length;++l)u=a(r[l]),c(e,r[l],f,null,u,i);else n.isForEachable(r)&&r.forEach(function(t){u=a(t),c(e,t,f,null,u,i)});t.insertBefore(f,s)}function s(e){e=r.first(e);for(var t=e.firstChild,n=null;null!=t;)n=t.nextSibling,1===t.nodeType&&t.hasAttribute("data-hr-keep")||e.removeChild(t),t=n}function c(e,t,n,i,o,a){if(n=r.first(n),f.hasOwnProperty(e)){var u=f[e](t,n,i,o);return void 0!==a&&null!==a&&a(u,t),u}console.log("Failed to create component '"+e+"', cannot find factory, did you forget to define it on the page?")}var f={};e.register=i,e.single=a,e.repeat=u,e.empty=s}),jsns.define("hr.controller",["hr.bindingcollection","hr.domquery","hr.ignored"],function(e,t,n,r,i){function o(e,t,o,a){function u(e){if(!i.isIgnored(e)){var r=new n(e),a=new t(r,o,null);r.setListener(a),e.removeAttribute("data-hr-controller")}}a?a.iterateControllers(e,u):r.iterate('[data-hr-controller="'+e+'"]',null,u)}function a(e,t){return function(n,r){var i=new e(n,t,r);n.setListener(i)}}e.create=o,e.createOnCallback=a}),jsns.define("hr.domquery",["hr.typeidentifiers"],function(e,t,n){function r(e,t){return n.isString(e)&&(e=void 0!==t?this.matches(t,e)?t:t.querySelector(e):document.querySelector(e)),e}function i(e,t,r){if(n.isString(e))void 0===r&&(r=[]),void 0!==t?this.matches(t,e)?r.push(t):c(t.querySelectorAll(e),r):c(document.querySelectorAll(e),r);else if(n.isArray(e))if(void 0===r)r=e;else for(var i=0;i<e.length;++i)r.push(e[i]);else void 0===r?r=[e]:r.push(e);return r}function o(e,t,r){if(n.isString(e))t?this.matches(t,e)?r(t):f(t.querySelectorAll(e),r):f(document.querySelectorAll(e),r);else if(n.isArray(e))for(var i=0;i<e.length;++i)r(e[i]);else r(e)}function a(e){return!0}function u(e,t,n){for(var r,i=document.createNodeIterator(e,t,a,!1);r=i.nextNode();)n(r)}function s(e,t){return e.matches(t)}function c(e,t){for(var n=0;n<e.length;++n)t.push(e[n])}function f(e,t){for(var n=0;n<e.length;++n)t(e[n])}e.first=r,e.all=i,e.iterate=o,e.iterateNodes=u,e.matches=s}),jsns.define("hr.escape",null,function(e,t){function n(e){e=String(e);for(var t={textStart:0,bracketStart:0,output:""},n=0;n<e.length;++n)switch(e[n]){case"<":r(n,e,t,"&lt;");break;case">":r(n,e,t,"&gt;");break;case'"':r(n,e,t,"&quot;");break;case"'":r(n,e,t,"&#39;")}return t.textStart<e.length&&(t.output+=e.substring(t.textStart,e.length)),t.output}function r(e,t,n,r){n.bracketStart=e,n.output+=t.substring(n.textStart,n.bracketStart)+r,n.textStart=e+1}t.exports=n}),jsns.define("hr.eventhandler",null,function(e,t){function n(){function e(e,t){if(void 0===e)throw"context cannot be undefined";if(void 0===t)throw"handler cannot be undefined";r.push({handler:t,context:e})}function t(e,t){for(var n=0;n<r.length;++n)r[n].handler===t&&r[n].context===e&&r.splice(n--,1)}function n(){for(var e,t,n=0;n<r.length;++n){var i=r[n];t=i.handler.apply(i.context,arguments),void 0!==t&&(void 0===e&&(e=[]),e.push(t))}return e}var r=[];this.modifier={add:e,remove:t},this.fire=n}t.exports=n}),jsns.define("hr.lateboundeventhandler",["hr.eventhandler"],function(e,t,n){function r(){function e(e,t){if(a.modifier.add(e,t),null!==u){s=i;for(var n=0;n<u.length;++n)o.apply(this,u[n]);u=null}}function t(e,t){a.modifier.remove(e,t)}function r(){u.push(arguments)}function i(){a.fire.apply(a,arguments)}function o(){return s.apply(this,arguments)}var a=new n,u=[],s=r;this.modifier={add:e,remove:t},this.fire=o}t.exports=r}),jsns.define("hr.promiseeventhandler",null,function(e,t){function n(){function e(e,t){if(void 0===e)throw"context cannot be undefined";if(void 0===t)throw"handler cannot be undefined";r.push({handler:t,context:e})}function t(e,t){for(var n=0;n<r.length;++n)r[n].handler===t&&r[n].context===e&&r.splice(n--,1)}function n(){for(var e,t=[],n=0;n<r.length;++n){var i=r[n];t.push(new Promise(function(e,t){e(i.handler.apply(i.context,arguments))}).then(function(t){void 0!==t&&(void 0===e&&(e=[]),e.push(t))}))}return Promise.all(t).then(function(t){return e})}var r=[];this.modifier={add:e,remove:t},this.fire=n}t.exports=n}),jsns.define("hr.form",["hr.domquery","hr.typeidentifiers"],function(e,t,n,r){function i(e){if(e=n.first(e),e&&"FORM"===e.nodeName){var t,r,i={};for(t=e.elements.length-1;t>=0;t-=1)if(""!==e.elements[t].name)switch(e.elements[t].nodeName){case"INPUT":switch(e.elements[t].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":case"file":i[e.elements[t].name]=e.elements[t].value;break;case"checkbox":case"radio":e.elements[t].checked&&(i[e.elements[t].name]=e.elements[t].value)}break;case"TEXTAREA":i[e.elements[t].name]=e.elements[t].value;break;case"SELECT":switch(e.elements[t].type){case"select-one":i[e.elements[t].name]=e.elements[t].value;break;case"select-multiple":for(r=e.elements[t].options.length-1;r>=0;r-=1)e.elements[t].options[r].selected&&(i[e.elements[t].name]=e.elements[t].options[r].value)}break;case"BUTTON":switch(e.elements[t].type){case"reset":case"submit":case"button":i[e.elements[t].name]=e.elements[t].value}}return i}}function o(e,t){e=n.first(e);var i=n.all("[name]",e);if(r.isObject(t))for(var o=0;o<i.length;++o){var a=i[o];a.value=t[a.getAttribute("name")]}else if(r.isFunction(t))for(var o=0;o<i.length;++o){var a=i[o];switch(a.type){case"checkbox":a.checked=t(a.getAttribute("name"))===a.value;break;default:a.value=t(a.getAttribute("name"))}}}e.serialize=i,e.populate=o}),jsns.define("hr.formlifecycle",["hr.toggles","hr.rest"],function(e,t,n,r){function i(e){var t=null,i=this;e.setListener({submit:function(e){e.preventDefault(),i.submit()},tryAgain:function(e){e.preventDefault(),t()}});var o=e.getToggle("load"),a=e.getToggle("main"),u=e.getToggle("fail"),s=new n.Group(o,a,u),c=e.getModel("settings");this.populate=function(){s.show(o),r.get(c.getSrc(),function(e){c.setData(e),s.show(a)},function(e){t=i.populate,s.show(u)})},this.submit=function(){s.show(o);var e=c.getData();r.post(c.getSrc(),e,function(e){s.show(a)},function(e){t=i.submit,s.show(u)})}}t.exports=i}),jsns.define("hr.ignored",["hr.domquery"],function(e,t,n){function r(e){for(var t=0;t<i.length;++t)if(i[t].contains(e))return!0;return!1}var i=n.all("[data-hr-ignored]");e.isIgnored=r}),jsns.define("hr.iterable",["hr.typeidentifiers"],function(e,t,n){function r(e){function t(t){return e(t)}this.get=t}function i(e){function t(t){return e(t)?t:void 0}this.get=t}function o(){function e(e){n.push(e)}function t(e){for(var t=e,r=0;r<n.length;++r)t=n[r].get(t);return t}var n=[];this.push=e,this.derive=t}function a(e,t){var r;return n.isArray(e)?(r=0,{next:function(){for(var n=void 0;void 0===n&&r<e.length;){var i=e[r++];n=t.derive(i)}return void 0===n?{done:!0}:{done:!1,value:i}}}):void 0}function u(e,t,r){var i;if(n.isArray(e))for(i=0;i<e.length;++i){var o=e[i],a=t.derive(o);void 0!==a&&r(a)}}function s(e){function t(){d===c&&(d=new o)}function n(e){return t(),d.push(new i(e)),this}function s(e){return t(),d.push(new r(e)),this}function f(){return a(e,d)}function l(t){u(e,d,t)}var d=c;this.where=n,this.select=s,this.iterator=f,this.forEach=l}var c=new o;t.exports=s}),jsns.define("hr.models",["hr.form","hr.textstream","hr.components","hr.typeidentifiers","hr.domquery"],function(e,t,n,r,i,o,a){function u(e){return""}function s(e,t){function r(){n.populate(e,u)}this.setData=function(t){n.populate(e,t)},this.appendData=this.setData,this.clear=r,this.getData=function(){return n.serialize(e)},this.getSrc=function(){return t}}function c(e,t,n){function r(){i.empty(e)}this.setData=function(t,n,r){i.empty(e),this.appendData(t,n,r)},this.appendData=function(t,r,a){o.isArray(t)||o.isForEachable(t)?i.repeat(n,e,t,r,a):t&&i.single(n,e,t,r,a)},this.clear=r,this.getData=function(){return{}},this.getSrc=function(){return t}}function f(e,t){function n(){r=l(u,e,r)}var r=void 0;this.setData=function(t){r=l(t,e,r)},this.clear=n,this.appendData=this.setData,this.getData=function(){return{}},this.getSrc=function(){return t}}function l(e,t,n){if(void 0===n)n=[],a.iterateNodes(t,NodeFilter.SHOW_TEXT,function(t){var i=new r(t.textContent);i.foundVariable()&&(t.textContent=i.format(e),n.push({node:t,stream:i}))});else for(var i=0;i<n.length;++i){var o=n[i];o.node.textContent=o.stream.format(e)}return n}function d(e){var t=e.getAttribute("data-hr-model-src");if("FORM"===e.nodeName||"INPUT"==e.nodeName||"TEXTAREA"==e.nodeName)return new s(e,t);var n=e.getAttribute("data-hr-model-component");return n?new c(e,t,n):new f(e,t)}function h(){this.setData=function(e){},this.appendData=this.setData,this.getData=function(){return{}},this.getSrc=function(){return""}}e.build=d,e.NullModel=h}),jsns.define("hr.rest",null,function(e,t){function n(e){var t,n=e.getResponseHeader("content-type");if(n&&-1!==n.search(/application\/json/))try{t=JSON.parse(e.response)}catch(r){t=e.response}else t=e.response;return t}function r(e,t,r){200===e.status?void 0!==t&&t(n(e)):void 0!==r&&r(n(e))}function i(e,t,n,r){d(e,"POST",t,n,r)}function o(e,t){return new Promise(function(n,r){i(e,t,n,r)})}function a(e,t,n,r){d(e,"PUT",t,n,r)}function u(e,t){return new Promise(function(n,r){a(e,t,n,r)})}function s(e,t,n,r){d(e,"DELETE",t,n,r)}function c(e,t){return new Promise(function(n,r){s(e,t,n,r)})}function f(e,t,n,i){void 0===n&&(n=t),(void 0===i||i===!1)&&(e+=e.indexOf("?")>-1?"&":"?",e+="noCache="+(new Date).getTime());var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(){r(o,t,n)},o.send()}function l(e,t){return new Promise(function(n,r){f(e,n,r,t)})}function d(e,t,n,i,o){void 0===o&&(o=i);var a=new XMLHttpRequest;a.open(t,e),a.setRequestHeader("Content-Type","application/json"),a.onload=function(){r(a,i,o)},a.send(JSON.stringify(n))}function h(e,t,n){return new Promise(function(r,i){d(e,t,n,r,i)})}function v(e,t,n,i){void 0===i&&(i=n);var o=null;t instanceof FormData?o=t:(o=new FormData,o.append("file",t));var a=new XMLHttpRequest;a.open("POST",e),a.onload=function(){r(a,n,i)},a.send(o)}function p(e,t){return new Promise(function(n,r){v(e,t,n,r)})}e.post=i,e.postPromise=o,e.put=a,e.putPromise=u,e["delete"]=s,e.delPromise=c,e.get=f,e.getPromise=l,e.ajax=d,e.ajaxPromise=h,e.upload=v,e.uploadPromise=p}),jsns.define("hr.storage",null,function(e,t){function n(e,t){void 0===t&&(t=null);var n=sessionStorage.getItem(e);return n=null!==n?JSON.parse(n):t}function r(e,t){sessionStorage.setItem(e,JSON.stringify(t))}e.getSessionJson=n,e.storeJsonInSession=r}),jsns.define("hr.textstream",["hr.escape","hr.typeidentifiers"],function(e,t,n,r){function i(e){this.writeObject=function(t){return e},this.writeFunction=this.writeObject}function o(e){this.writeObject=function(t){return n(t[e])},this.writeFunction=function(t){return n(t(e))}}function a(){this.writeObject=function(e){return n(e)},this.writeFunction=function(e){return n(e("this"))}}function u(e,t){(null===e||void 0===e)&&(e={});var n="";if(r.isFunction(e))for(var i=0;i<t.length;++i)n+=t[i].writeFunction(e);else for(var i=0;i<t.length;++i)n+=t[i].writeObject(e);return n}function s(e){for(var t,n,r,s=[],c=!1,f=0,l=0,d=0,h=0,v=0,p="",m=0;m<e.length;++m)if("{"==e[m]){for(l=m,h=1;++m<e.length&&"{"==e[m];)++h;for(v=h;++m<e.length&&!("}"==e[m]&&0==--v||/\s/.test(e[m])););if(0==v){switch(t=e.substring(f,l),d=m,r=e.substring(l,d+1),h){case 1:p+=t+r;break;case 2:s.push(new i(p+t)),p="",n=r.substring(2,r.length-2),s.push("this"===n?new a:new o(n));break;default:p+=t+r.substring(1,r.length-1)}f=m+1,c=!0}}f<e.length&&s.push(new i(p+e.substring(f,e.length))),this.format=function(e){return u(e,s)},this.foundVariable=function(){return c}}t.exports=s}),jsns.define("hr.timedtrigger",["hr.eventhandler"],function(e,t,n){function r(e){function t(e){f=e}function r(){clearTimeout(s),c=void 0}function i(){r(),s=window.setTimeout(u,f),c=arguments}function o(e,t){l.modifier.add(e,t)}function a(e,t){l.modifier.remove(e,t)}function u(){l.fire.apply(l,c)}void 0===e&&(e=400);var s,c,f=e,l=new n;this.handler=l.modifier,this.setDelay=t,this.cancel=r,this.fire=i,this.addListener=o,this.removeListener=a}t.exports=r}),jsns.define("hr.toggles",["hr.typeidentifiers"],function(e,t,n){function r(e){v.push(e)}function i(e,t){if(e){var n=e[t];if(n)n();else{var r=e.applyState(null);i(r,t)}}}function o(e,t,n){function r(){var r=n.applyState(t);i(r,e)}n[e]=r}function a(e){function t(t){return e}this.applyState=t}function u(e,t){function n(n){return e.style.cssText=n?r+n:r,t}var r=e.style.cssText||"";this.applyState=n}function s(e,t){function n(n){return n?e.setAttribute("class",o+" "+n):e.setAttribute("class",o),r(),t}function r(){a&&(e.classList.remove(a),e.removeEventListener("transitionend",i),e.removeEventListener("animationend",i),e.addEventListener("transitionend",i),e.addEventListener("animationend",i))}function i(){e.removeEventListener("transitionend",i),e.removeEventListener("animationend",i),e.classList.add(a)}var o=e.getAttribute("class")||"",a=e.getAttribute("data-hr-class-idle");this.applyState=n}function c(){function e(e){n.push(e)}function t(e,t,r){void 0===t&&(t="on"),void 0===r&&(r="off");for(var o=0;o<n.length;++o)i(n[o],r);i(e,t)}for(var n=[],r=0;r<arguments.length;++r)n.push(arguments[r]);this.add=e,this.activate=t,this.show=t}function f(e,t,n,r,i){for(var a=null,u=0;u<t.length;++u){var s=t[u],c=n+s;if(e.hasAttribute(c)){var f=e.getAttribute(c);null===a&&(a=new r(e,i)),o(s,f,a)}}return a?a:i}function l(e,t){void 0===t&&(t=h);var r=null;if(null!==e){r=f(e,t,"data-hr-style-",u,r),r=f(e,t,"data-hr-class-",s,r);for(var i=0;i<v.length;++i)r=v[i](e,t,r)}for(null===r&&(r=new a(r)),i=0;i<t.length;++i){var c=t[i];n.isFunction(r[c])||o(c,null,r)}return r}function d(e){return n.isObject(e)&&e.constructor.prototype==a.prototype}var h=["on","off"],v=[];e.addTogglePlugin=r,e.Group=c,e.build=l,e.isNullToggle=d}),jsns.define("hr.typeidentifiers",null,function(e,t){function n(e){return Array.isArray(e)}function r(e){return"string"==typeof e}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e}function a(e){return e&&i(e.forEach)}"undefined"==typeof Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),e.isArray=n,e.isString=r,e.isFunction=i,e.isObject=o,e.isForEachable=a}),jsns.run(["hr.toggles"],function(e,t,n){function r(e,t){function n(){return o.open(),t}function r(){return o.close(),t}function i(e){return t}var o=new Modal(e);this.on=n,this.off=r,this.applyState=i}n.addTogglePlugin(function(e,t,n){return e.classList.contains("modal")&&(n=new r(e,n)),n})}),jsns.define("hr.widgets.navmenu",["hr.eventhandler","hr.controller"],function(e,t,n,r){function i(){function e(e,t){void 0!==t&&(t=r.createOnCallback(t));var n={name:e,created:t};i.push(n),o.fire(n)}function t(){return i}var i=[],o=new n;this.itemAdded=o.modifier,this.add=e,this.getItems=t}function o(e){var t=a[e];return void 0===t&&(a[e]=t=new i),t}var a={};e.getNavMenu=o}),jsns.define("hr.widgets.pagenumbers",["hr.toggles","hr.eventhandler"],function(e,t,n,r){function i(e,t){function i(e){p.fire(e)}function o(e){return function(){i(m+e)}}function a(){var e=g.currentPage+1;l>e&&i(e)}function u(){var e=g.currentPage-1;e>=0&&i(e)}function s(){for(var e={previousPage:function(e){e.preventDefault(),u()},nextPage:function(e){e.preventDefault(),a()}},r=["on","off","active"],i=0,s="page"+i,c=t.getToggle(s,r);!n.isNullToggle(c);)f.push(c),d.add(c),e[s]=o(i),s="page"+ ++i,c=t.getToggle(s,r);t.setListener(e)}function c(){l=Math.floor(this.totalResults/this.resultsPerPage),this.totalResults%this.resultsPerPage!==0&&++l;var t,n=0;t=this.currentPage+v>l?l-h:this.currentPage-v,0>t&&(t=0),m=t,e.setData(function(e){return t===g.currentPage&&d.activate(f[n],"active","on"),t>=l&&f[n].off(),++n,t++ +1})}var f=[],l=0,d=new n.Group;s();var h=f.length,v=Math.floor(h/2),p=new r;this.pageChangeRequested=p.modifier;var m=0,g=this;this.currentPage=0,this.totalResults=0,this.resultsPerPage=0,this.updatePages=c}t.exports=i}),jsns.define("hr.data.paged",["hr.rest","hr.eventhandler"],function(e,t,n,r){function i(e,t){function i(){o.fire();var t=e+"?page="+this.currentPage+"&count="+this.resultsPerPage;n.get(t,function(e){a.fire(e)},function(e){u.fire(e)})}var o=new r;this.updating=o.modifier;var a=new r;this.updated=a.modifier;var u=new r;this.error=u.modifier,this.resultsPerPage=t,this.currentPage=0,this.updateData=i}t.exports=i});
//# sourceMappingURL=HtmlRapier.min.js.map
